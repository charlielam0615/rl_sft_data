**Problem Restatement**: Given the function \( f(x) = \frac{x+4}{x^2 + ax + b} \), with vertical asymptotes at \( x = 1 \) and \( x = -2 \), find the sum of \( a \) and \( b \).

---

### Step 1
[PLANNING]  
**Action**: Forward Subgoaling (Planning)  
Break down the problem into intermediate subgoals to find \( a \) and \( b \).  
1. Understand that vertical asymptotes occur where the denominator is zero.  
2. Set up the denominator \( x^2 + ax + b = 0 \) with roots at \( x = 1 \) and \( x = -2 \).  
3. Use the properties of quadratic equations to determine \( a \) and \( b \).  
4. Compute the sum \( a + b \).  
[/PLANNING]

---

### Step 2
[PLANNING]  
**Action**: Reach Goal (Implementation)  
**Current Goal**: Determine the values of \( a \) and \( b \) using the fact that the denominator \( x^2 + ax + b = 0 \) has roots at \( x = 1 \) and \( x = -2 \).  
**How to Achieve**: Since the vertical asymptotes are at \( x = 1 \) and \( x = -2 \), the denominator must be zero at these points, so the quadratic can be expressed as \( (x - 1)(x + 2) \). Expand this to find \( a \) and \( b \).  
[/PLANNING]  

[IMP]  
The denominator \( x^2 + ax + b \) has roots at \( x = 1 \) and \( x = -2 \). Thus, it can be written as:  
\[ (x - 1)(x + 2) = x^2 + x - 2 \]  
Expanding:  
\[ (x - 1)(x + 2) = x^2 + 2x - x - 2 = x^2 + x - 2 \]  
Comparing with \( x^2 + ax + b \), we get:  
- Coefficient of \( x \): \( a = 1 \)  
- Constant term: \( b = -2 \)  
[/IMP]

---

### Step 3
[PLANNING]  
**Action**: Validation (Implementation)  
**Current Goal**: Verify that the values \( a = 1 \) and \( b = -2 \) produce vertical asymptotes at \( x = 1 \) and \( x = -2 \).  
**How to Achieve**: Substitute \( a = 1 \) and \( b = -2 \) into the denominator and check if it equals zero at \( x = 1 \) and \( x = -2 \).  
[/PLANNING]  

[IMP]  
The denominator becomes:  
\[ x^2 + ax + b = x^2 + x - 2 \]  
Check at \( x = 1 \):  
\[ 1^2 + 1 - 2 = 1 + 1 - 2 = 0 \]  
Check at \( x = -2 \):  
\[ (-2)^2 + (-2) - 2 = 4 - 2 - 2 = 0 \]  
Since the denominator is zero at both \( x = 1 \) and \( x = -2 \), the function has vertical asymptotes at these points, confirming \( a = 1 \), \( b = -2 \).  
[/IMP]

---

### Step 4
[PLANNING]  
**Action**: Track Goals (Review)  
[/PLANNING]  

[REVIEW]  
**Goal Hierarchy**:  
- Main Goal: Find the sum of \( a \) and \( b \).  
  - Subgoal 1: Identify that vertical asymptotes occur where the denominator is zero.  
  - Subgoal 2: Set up the denominator \( x^2 + ax + b = 0 \) with roots at \( x = 1 \) and \( x = -2 \).  
  - Subgoal 3: Determine \( a \) and \( b \) by expressing the denominator as \( (x - 1)(x + 2) \).  
  - Subgoal 4: Verify the values of \( a \) and \( b \).  
  - Subgoal 5: Compute the sum \( a + b \).  
**Current Goal**: Compute the sum \( a + b \).  
[/REVIEW]

---

### Step 5
[PLANNING]  
**Action**: Reach Goal (Implementation)  
**Current Goal**: Compute the sum \( a + b \).  
**How to Achieve**: Use the values \( a = 1 \) and \( b = -2 \) from Step 2 to calculate \( a + b \).  
[/PLANNING]  

[IMP]  
\[ a + b = 1 + (-2) = -1 \]  
[/IMP]

---

**Final Answer**: The sum of \( a \) and \( b \) is \(-1\).