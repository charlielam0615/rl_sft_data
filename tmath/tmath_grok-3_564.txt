**Problem Statement**: Determine the number of values of \( x \) for which the expression \(\frac{x^2 - 9}{(x^2 + 2x - 3)(x - 3)}\) is undefined. An expression is undefined when its denominator is zero, so we need to find all values of \( x \) that make the denominator zero.

### Step 1: Forward Subgoaling
[PLANNING]  
**Action: Forward Subgoaling (Planning)**  
Break down the problem into intermediate subgoals:  
1. Identify the denominator of the expression.  
2. Set the denominator equal to zero and solve for \( x \).  
3. Determine the distinct values of \( x \) that make the denominator zero.  
4. Count these values to answer the question.  
[/PLANNING]

### Step 2: Reach Goal
[PLANNING]  
**Action: Reach Goal (Implementation)**  
**Meta-data**: The current goal is to identify the denominator of the expression and set it equal to zero to find the values of \( x \). This will be achieved by extracting the denominator and solving the resulting equation.  
[/PLANNING]  

[IMP]  
The expression is \(\frac{x^2 - 9}{(x^2 + 2x - 3)(x - 3)}\). The denominator is \((x^2 + 2x - 3)(x - 3)\). The expression is undefined when the denominator equals zero:  
\[
(x^2 + 2x - 3)(x - 3) = 0
\]  
This gives two factors to solve:  
1. \( x - 3 = 0 \), so \( x = 3 \).  
2. \( x^2 + 2x - 3 = 0 \). Solve this quadratic equation:  
\[
x^2 + 2x - 3 = (x + 3)(x - 1) = 0
\]  
Thus, \( x + 3 = 0 \) or \( x - 1 = 0 \), giving \( x = -3 \) or \( x = 1 \).  
The potential values are \( x = 3 \), \( x = -3 \), and \( x = 1 \).  
[/IMP]

### Step 3: Validation
[PLANNING]  
**Action: Validation (Implementation)**  
**Meta-data**: The current goal is to verify that the values \( x = 3 \), \( x = -3 \), and \( x = 1 \) make the denominator zero and ensure no other solutions exist. This will be achieved by checking the solutions and confirming the numerator does not affect undefined points.  
[/PLANNING]  

[IMP]  
Substitute each value into the denominator \((x^2 + 2x - 3)(x - 3)\):  
- For \( x = 3 \):  
  \[
  x^2 + 2x - 3 = 3^2 + 2 \cdot 3 - 3 = 9 + 6 - 3 = 12 \neq 0, \quad x - 3 = 3 - 3 = 0
  \]  
  \[
  12 \cdot 0 = 0
  \]  
- For \( x = -3 \):  
  \[
  x^2 + 2x - 3 = (-3)^2 + 2 \cdot (-3) - 3 = 9 - 6 - 3 = 0, \quad x - 3 = -3 - 3 = -6 \neq 0
  \]  
  \[
  0 \cdot (-6) = 0
  \]  
- For \( x = 1 \):  
  \[
  x^2 + 2x - 3 = 1^2 + 2 \cdot 1 - 3 = 1 + 2 - 3 = 0, \quad x - 3 = 1 - 3 = -2 \neq 0
  \]  
  \[
  0 \cdot (-2) = 0
  \]  
All values make the denominator zero. The numerator \( x^2 - 9 = (x - 3)(x + 3) \) is nonzero at \( x = 1 \) (\( 1^2 - 9 = -8 \)), so no cancellation occurs that would affect undefined points. The quadratic \( x^2 + 2x - 3 \) is a second-degree polynomial with at most two roots, and the linear term \( x - 3 \) has one root, so no other solutions exist.  
[/IMP]

### Step 4: Track Goals
[PLANNING]  
**Action: Track Goals (Review)**  
[/PLANNING]  

[REVIEW]  
**Goal Hierarchy**:  
- Main goal: Determine the number of values of \( x \) for which the expression is undefined.  
  - Subgoal 1: Identify the denominator (completed).  
  - Subgoal 2: Set the denominator equal to zero and solve for \( x \) (completed).  
  - Subgoal 3: Determine the distinct values of \( x \) (completed: \( x = 3, -3, 1 \)).  
  - Subgoal 4: Count these values (pending).  
**Current Goal**: Count the distinct values of \( x \) to answer the question.  
[/REVIEW]

### Step 5: Reach Goal
[PLANNING]  
**Action: Reach Goal (Implementation)**  
**Meta-data**: The current goal is to count the distinct values of \( x \) that make the denominator zero, which are \( x = 3 \), \( x = -3 \), and \( x = 1 \). This will be achieved by listing and counting these values.  
[/PLANNING]  

[IMP]  
The distinct values are \( x = 3 \), \( x = -3 \), and \( x = 1 \). There are three values.  
[/IMP]

### Final Answer
The expression \(\frac{x^2 - 9}{(x^2 + 2x - 3)(x - 3)}\) is undefined for **3 values** of \( x \).